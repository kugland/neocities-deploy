# Maintainer: Andr√© Kugland <kugland@gmail.com>

_pkgname=neocities-deploy
pkgname=$_pkgname-bin
pkgdesc='Command-line tool for deploying your Neocities site (prebuilt statically-linked binary)'
url="https://github.com/kugland/$_pkgname"
pkgver=0.1.22
pkgrel=1
arch=('x86_64' 'i686' 'aarch64' 'armv7h')
license=('GPL-3.0-or-later')
source=("$_pkgname-$pkgver.tar.gz::${url}/archive/refs/tags/v$pkgver.tar.gz") # For README.md
source_x86_64=("$_pkgname-$pkgver-bin-x86_64.tar.gz::${url}/releases/download/v$pkgver/$_pkgname-Linux-x86_64-musl.tar.gz")
source_i686=("$_pkgname-$pkgver-bin-i686.tar.gz::${url}/releases/download/v$pkgver/$_pkgname-Linux-i686-musl.tar.gz")
source_aarch64=("$_pkgname-$pkgver-bin-aarch64.tar.gz::${url}/releases/download/v$pkgver/$_pkgname-Linux-aarch64-musl.tar.gz")
source_armv7h=("$_pkgname-$pkgver-bin-arm.tar.gz::${url}/releases/download/v$pkgver/$_pkgname-Linux-arm-musl.tar.gz")
sha256sums=('b77b841e5f2eff60f78df33b637cebdfec11d9e5ccf308ab9dde42ddb2ee5b08')
sha256sums_x86_64=('22eaf51e679dc901947457f43415ff066751f59829aa0b0b2f9edb33a589a5a9')
sha256sums_i686=('e1ffde2a010f58bf9418975c7cd8084a7919f6f11898f1576f3b726bbf060acb')
sha256sums_aarch64=('793f57cadc1ddffb1958fde48334f808b8e5403a19513535038241986c2d3094')
sha256sums_armv7h=('cd0453df4b74206e70a2ff261fa0a51be5e6cfb8e9f07c833345a2ab0dc31369')

package() {
    cd "$srcdir"
    install -Dm0755 -t "$pkgdir/usr/bin/" neocities-deploy
    cd "$srcdir/$_pkgname-$pkgver"
    install -Dm0644 -t "$pkgdir/usr/doc/$_pkgname/" README.md
}
